setup:
    # required for python-picamera2
    # we are not using python3-camera2 from apt because of the amount of dependencies
    sudo apt install -y --no-install-recommends gcc libcap-dev libpython3-dev python3-libcamera python3-kms++ i2c-tools
    uv venv --clear --system-site-packages
    uv sync --no-group dev
    just --justfile bubbler/justfile setup
    just --justfile light/justfile setup
    just --justfile display/justfile setup
    just --justfile pump/justfile setup
    just --justfile focus/justfile setup
    just --justfile imager/justfile setup

setup-dev:
    uv sync --group dev

format:
    uv run poe fmt

test:
    uv run poe check
